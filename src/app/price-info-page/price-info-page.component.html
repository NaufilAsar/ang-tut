<div class="panel"></div>

<hr />
<div class="text-center">
  <p class="my-2">Price History of</p>
  <h3>
    {{ this.product.title }}
  </h3>

  <img
    loading="lazy"
    style="
      margin-top: 0.5rem;
      max-width: 400px;
      max-height: 450px;
      width: auto;
      height: auto;
    "
    src="{{ product.img }}"
    alt="{{ product.title }}"
  />

  <div class="mt-3">
    <p>Current Price* {{ product.price }}</p>
  </div>
  <div>
    <a
      [ngClass]="{
        'btn-warning': product.site == 'amazon',
        'btn-primary': product.site == 'flipkart',
        'btn-success': product.site == 'reliance',
        'btn-dark': product.site == 'shopclues'
      }"
      class="btn btn-sm"
      href="{{ product.url }}"
      >Buy on {{ product.site }}</a
    >
  </div>
  <p class="m-3">*Last updated a few minutes ago</p>
</div>

<hr />

<h3 style="font-family: 'Poppins'" class="text-center mx-4">
  Price History Chart:
</h3>
<div class="mx-auto my-4" style="display: block; width: 90vw; max-width: 500px">
  <canvas
    baseChart
    [type]="'line'"
    [data]="lineChartData"
    [options]="lineChartOptions"
    [legend]="lineChartLegend"
    (chartHover)="(onChartHover)"
  >
  </canvas>
</div>

<hr />

<div class="text-center">
  <h3 style="font-family: 'Poppins'" class="my-2">
    Create a price drop email alert for this product:
  </h3>
  <input
    type="email"
    name="email"
    id="contact_form_email"
    class="contact_form_email input_field text-secondary cool-box-shadow mt-4"
    placeholder="Your email"
    required="required"
    data-error="Email is required."
  />
  <hr />
</div>

<h3 style="font-family: 'Poppins'" class="text-center my-3">
  If you like this, you may also like:
</h3>
<div class="row mb-4" style="display: flex; justify-content: space-evenly">
  <div
    *ngFor="let item of suggestions; let i = index"
    class="text-center col-auto bg-white"
    style="
      width: 22rem;
      border-radius: 10px;
      padding: 0.8rem;
      margin: 1.3rem;
      box-shadow: rgba(17, 17, 26, 0.05) 0px 4px 16px,
        rgba(17, 17, 26, 0.05) 0px 8px 32px;
    "
  >
    <div style="width: 20rem" class="p-3">
      <img
        class="p-3"
        src="{{ item.img }}"
        alt="{{ item.title }}"
        loading="lazy"
        style="
          max-width: 100px;
          max-height: 150px;
          width: auto;
          height: auto;
          display: block;
          margin: 0 auto;
        "
      />
      <span class="card-title my-3" style="display: block">{{
        item.title
      }}</span>
      <span
        class="badge badge rounded-pill text-white"
        [ngClass]="{
          'bg-warning': item.site == 'amazon',
          'bg-primary': item.site == 'flipkart',
          'bg-success': item.site == 'reliance',
          'bg-dark': item.site == 'shopclues'
        }"
        style="
          margin-right: 1rem;
          font-size: 1rem;
          font-weight: 400;
          width: 6rem;
          display: inline-block;
        "
        >{{ product.site }}</span
      >
      <span class="card-text my-2" style="color: #379237; font-size: 1.3rem">{{
        "â‚¹" + item.price
      }}</span>

      <div style="width: 15rem" class="mx-auto">
        <a
          style="display: inline-block; padding: 0.3rem; margin-top: -1px"
          class="btn btn-primary ms-2 mt-3"
          href="{{ item.url }}"
          >Buy Product</a
        >
      </div>
    </div>
  </div>
</div>
